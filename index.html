<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width = device-width, initial-scale = 1.0">
        <title>Thing 1</title>
    </head>
    <body>
        Clent1
        <br />
        <button onclick="sendMessage()">send a message</button>
        <br />
        <button onClick="hello()">Say Hi</button>
    </body>
    <script>
        const request = {
            id: 2100,
            type: "switch",
            phase: "progress",
            data: [1,3,15.27] // { boss: "Dendro Cube", team: 1, character: 11}
        }
        // Create WebSocket connection
        const socket = new WebSocket("ws://localhost:3000");

        // Connection opened
        socket.addEventListener("open", function(event) {
            console.log("connected to server")
        });

        // Listen for messages
        socket.addEventListener("message", function (event) {
            console.log(JSON.parse(event.data));
        });
        
        const sendMessage = () => {
            socket.send(JSON.stringify({message: '"Hello world, from Client 1"'}));
        }
        const hello = () => {
            let info = {
                id: 5,
                type: "add",
                changed: "pick",
                data: {
                    character: 11,
                    team: 1
                }
            }
            let next_info = {
                id: 179,
                type: "add",
                changed: "ban",
                data: {
                    character: 16,
                    team: 2
                }
            }
            socket.send(JSON.stringify(next_info));
        }
    </script>
</html>